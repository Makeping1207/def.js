
<!DOCTYPE HTML>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>测试</title>
        <style>

        </style>
        <script src="def.js"></script>
        <script>

            def("Animal")({
                init: function(name) {
                    this.name = name;
                },
                speak: function(text) {
                    console.log("this is a " + this.name);
                }
            });
            var animal = new Animal("Animal");
            console.log(animal.name)
            def("Dog") < Animal({
                init: function(name, age) {
                    this._super();//魔术般地调用父类
                    this.age = age;
                },
                run: function(s) {
                    console.log(s)
                }
            });
            var dog = new Dog("wangwang");
            console.log(dog.name);//wangwang
            //在命名空间对象上创建子类
            var namespace = {}
            def(namespace, "Shepherd") < Dog({
                init: function() {
                    this._super();
                }
            });

            var shepherd = new namespace.Shepherd("Shepherd")
            console.log(shepherd.name);

            function func1(flag) {
                if (flag) {
                    alert("Caller is here!");
                } else {
                    func2();
                }
            }

            function func2() {
                arguments.callee.caller(true);
            }
        </script>
    </head>

    <body>

        <button onclick="func1(false)">Test</button>
        <a href="aaa">司徒正美</a>
    </body>


</html>